// Generated by CoffeeScript 1.3.3
(function() {

  define(["Console", "jQuery"], function(Console, $) {
    "use strict";
    Console.group("Entering popups directive module.");
    Console.groupEnd();
    return function() {
      return {
        restrict: "E",
        transclude: true,
        scope: true,
        template: "<div class=\"popups\" ng-class=\"{active:active}\" ng-transclude></div>",
        replace: true,
        controller: function($scope, $element) {
          var popups;
          popups = {};
          $scope.$parent.showPopup = function(name) {
            $scope.active = true;
            return popups[name].scope.active = true;
          };
          $scope.$parent.hidePopup = function() {
            $scope.active = false;
            return popups[name].scope.active = false;
          };
          return this.addPopup = function(scope, element, attrs) {
            var controller, name;
            name = attrs.popupId;
            controller = element.controller();
            Console.info("Registered popup " + name, scope, attrs, element, controller);
            return popups[name] = {
              scope: scope,
              controller: controller,
              element: element,
              attrs: attrs
            };
          };
        }
      };
    };
  });

}).call(this);
